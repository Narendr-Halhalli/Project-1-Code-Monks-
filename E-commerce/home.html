<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üõíBuyMI</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background: linear-gradient(135deg, #c4e0f6, #b7dcfa);
    }

    header {
      height: 250px;
      background-size: cover;
      background-position: center;
      color: white;
      text-align: center;
      padding-top: 60px;
      transition: background-image 1s ease-in-out;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
    }

    header h1 {
      font-size: 40px;
      margin: 0;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.6);
    }

    nav {
      margin-top: 15px;
    }

    nav a {
      margin: 0 15px;
      color: rgb(221, 199, 181);
      text-decoration: none;
      font-weight: bold;
      font-size: 18px;
    }

    #main-layout {
      display: flex;
      max-width: 1200px;
      margin: 30px auto;
      background: #e8e6e5;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
    }

    #sidebar {
      width: 260px;
      background: #cae3df;
      padding: 20px;
    }

    #sidebar li {
      list-style: none;
      margin: 8px 0;
      padding: 12px;
      background: #aabacd;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }

    #sidebar li:hover {
      background: #d0d8e1;
    }

    #main-content {
      flex: 1;
      padding: 20px;
    }

    .product-block {
      background: #fff;
      padding: 15px;
      margin-bottom: 25px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
    }

    .product-img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 8px;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
    }

    .compare-table {
      width: 100%;
      border-collapse: collapse;
      margin: 10px 0;
    }

    .compare-table th,
    .compare-table td {
      padding: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }

    .compare-table th {
      background: #ecf0f1;
    }

    .best-price td {
      background: #27ae60;
      color: white;
      font-weight: bold;
    }

    .mini-chart {
      display: none;
      width: 300px;
      height: 200px;
      margin-top: 10px;
    }

    .toggle-btn {
      background-color: #2075ad;
      color: white;
      border: none;
      padding: 6px 10px;
      font-size: 13px;
      margin-top: 5px;
      cursor: pointer;
      border-radius: 4px;
    }

    .toggle-btn:hover {
      background-color: #256fa0;
    }

    /* Contact Footer */
    footer#contact {
      padding: 30px;
      background-color: #2075ad;
      color: white;
      text-align: center;
      margin-top: 50px;
    }

    footer#contact h2 {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>

<header id="dynamic-header">
  <h1>BuyMI</h1>
  <nav>
    <a href="#">üè† Home</a>
    <a href="#contact">üìû Contact</a>
  </nav>
</header>

<div id="main-layout">
  <aside id="sidebar">
    <h3>Categories</h3>
    <ul id="category-list"></ul>
  </aside>
  <main id="main-content">
    <h2 id="category-title">Select a Category</h2>
    <div id="product-area"></div>
  </main>
</div>

<!-- üìû Contact Section -->
<footer id="contact">
  <h2>Contact Us</h2>
  <p>Email: support@buymi.com</p>
  <p>Phone: +91-9876543210</p>
  <p>Address: 123 Market Street, Bangalore, India</p>
</footer>

<script>
  const headerImages = [
    "https://i.pinimg.com/1200x/4d/12/4f/4d124f08d0b68e52c3d2344f4f136797.jpg",
    "https://i.pinimg.com/1200x/da/5e/fd/da5efd812b05bb38e9a75266c5a17cae.jpg",
    "https://i.pinimg.com/1200x/4b/c5/a8/4bc5a864bc7cb0cffbee7b40e28f7c02.jpg"
  ];
  let currentHeader = 0;
  const headerEl = document.getElementById('dynamic-header');

  function rotateHeader() {
    headerEl.style.backgroundImage = `url(${headerImages[currentHeader]})`;
    currentHeader = (currentHeader + 1) % headerImages.length;
  }

  rotateHeader();
  setInterval(rotateHeader, 5000);

  const comparisonData = {
    "Electronics": [
      { name: "Samsung Galaxy S21 üì±", image: "https://i.pinimg.com/736x/02/55/bf/0255bfe6cf3a0d8040b872e4f69284d3.jpg", platforms: { Amazon: 15999, Flipkart: 15899, Myntra: 16500, Ajio: 15799 } },
      { name: "Dell XPS 13 üíª", image: "https://i.pinimg.com/736x/0e/43/77/0e43776979a8eeff3ecd14706b959d9d.jpg", platforms: { Amazon: 89999, Flipkart: 87999, Myntra: 90500, Ajio: 88999 } }
    ],
    "Clothing": [
      { name: "T-Shirt üëï", image: "https://i.pinimg.com/1200x/76/34/b5/7634b5919aeb8522a9a47dd725bba39f.jpg", platforms: { Amazon: 499, Flipkart: 489, Myntra: 450, Ajio: 459 } },
      { name: "Jeans üëñ", image: "https://i.pinimg.com/1200x/b8/50/cb/b850cbc30bdefefc150033561460c1b6.jpg", platforms: { Amazon: 1299, Flipkart: 1249, Myntra: 1199, Ajio: 1210 } }
    ],
    "Books": [
      { name: "The Alchemist üìò", image: "https://i.pinimg.com/736x/e7/8c/a9/e78ca907a9fc1f15d37e0451cb90e55c.jpg", platforms: { Amazon: 299, Flipkart: 289, Myntra: 310, Ajio: 279 } },
      { name: "Atomic Habits üìó", image: "https://i.pinimg.com/1200x/39/d9/d6/39d9d620d911c59cddd87302a2810bc3.jpg", platforms: { Amazon: 499, Flipkart: 479, Myntra: 510, Ajio: 469 } }
    ],
    "Kitchen": [
      { name: "Blender üßÉ", image: "https://i.pinimg.com/1200x/d4/01/cd/d401cd7470c12f1e044e10f32f64f221.jpg", platforms: { Amazon: 4999, Flipkart: 4799, Myntra: 5100, Ajio: 4599 } },
      { name: "Air Fryer üçü", image: "https://i.pinimg.com/736x/a4/be/06/a4be065d94c2f96306b30c841a6ccba4.jpg", platforms: { Amazon: 6999, Flipkart: 6799, Myntra: 7200, Ajio: 6599 } }
    ],
    "Furniture": [
      { name: "Office Chair ü™ë", image: "", platforms: { Amazon: 4999, Flipkart: 4599, Myntra: 5100, Ajio: 4800 } }
    ],
    "Toys": [
      { name: "LEGO Set üß±", image: "https://i.pinimg.com/1200x/65/d4/90/65d490d838c7980eb5eb6509843a8ef0.jpg", platforms: { Amazon: 2299, Flipkart: 2199, Myntra: 2399, Ajio: 2099 } }
    ],
    "Shoes": [
      { name: "Running Shoes üëü", image: "https://i.pinimg.com/1200x/68/28/34/6828345181f1ec8b8e17a318ed93915a.jpg", platforms: { Amazon: 1999, Flipkart: 1899, Myntra: 1799, Ajio: 1699 } }
    ],
    "Watches": [
      { name: "Smartwatch ‚åö", image: "https://i.pinimg.com/1200x/7c/64/9e/7c649e3dc29e7499f36ad594e5a354d9.jpg", platforms: { Amazon: 2999, Flipkart: 2799, Myntra: 2899, Ajio: 2699 } }
    ]
  };

  const categories = Object.keys(comparisonData);
  const categoryList = document.getElementById('category-list');
  const categoryTitle = document.getElementById('category-title');
  const productArea = document.getElementById('product-area');

  categories.forEach(cat => {
    const li = document.createElement('li');
    li.textContent = cat;
    li.onclick = () => displayCategory(cat);
    categoryList.appendChild(li);
  });

  function displayCategory(category) {
    categoryTitle.textContent = `Category: ${category}`;
    productArea.innerHTML = '';
    const products = comparisonData[category];

    products.forEach(product => {
      const block = document.createElement('div');
      block.className = 'product-block';

      const img = document.createElement('img');
      img.src = product.image;
      img.alt = product.name;
      img.className = 'product-img';
      block.appendChild(img);

      const h3 = document.createElement('h3');
      h3.textContent = product.name;
      block.appendChild(h3);

      const table = document.createElement('table');
      table.className = 'compare-table';
      table.innerHTML = `<thead><tr><th>Platform</th><th>Price (‚Çπ)</th></tr></thead>`;
      const tbody = document.createElement('tbody');

      const entries = Object.entries(product.platforms);
      const prices = entries.map(e => e[1]);
      const minPrice = Math.min(...prices);

      entries.forEach(([platform, price]) => {
        const tr = document.createElement('tr');
        if (price === minPrice) tr.classList.add('best-price');
        tr.innerHTML = `<td>${platform}</td><td>${price}</td>`;
        tbody.appendChild(tr);
      });

      table.appendChild(tbody);
      block.appendChild(table);

      const btn = document.createElement('button');
      btn.className = 'toggle-btn';
      btn.textContent = 'Graph';
      block.appendChild(btn);

      const canvas = document.createElement('canvas');
      canvas.className = 'mini-chart';
      block.appendChild(canvas);

      let chart;
      btn.onclick = () => {
        if (canvas.style.display === 'none' || canvas.style.display === '') {
          canvas.style.display = 'block';
          if (!chart) {
            chart = new Chart(canvas.getContext('2d'), {
              type: 'bar',
              data: {
                labels: entries.map(e => e[0]),
                datasets: [{
                  label: 'Price (‚Çπ)',
                  data: entries.map(e => e[1]),
                  backgroundColor: entries.map(e => e[1] === minPrice ? '#27ae60' : '#3498db'),
                  borderRadius: 5,
                  borderSkipped: false
                }]
              },
              options: {
                responsive: false,
                animation: false,
                scales: { y: { beginAtZero: true } },
                plugins: { legend: { display: false } }
              }
            });
          } else {
            chart.update();
          }
        } else {
          canvas.style.display = 'none';
        }
      };

      productArea.appendChild(block);
    });
  }
</script>

</body>
</html>
